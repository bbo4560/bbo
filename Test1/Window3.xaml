<Window x:Class="Test1.Window3"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="資料查詢" Height="580" Width="900"
        WindowStartupLocation="CenterOwner"
        FontFamily="Microsoft JhengHei">
    <Grid Margin="24">
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#F4F7FB" Offset="0"/>
                <GradientStop Color="#E1E8F9" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <materialDesign:Card Grid.Row="0"
                     Padding="20"
                     Margin="0,0,0,18"
                     Background="White" Cursor="">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="150"/>
                    <ColumnDefinition Width="140"/>
                    <ColumnDefinition Width="140"/>
                    <ColumnDefinition Width="140"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                
                <TextBlock Grid.Row="0" Grid.Column="0" Text="時間" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Margin="0,0,0,4"/>
                <TextBlock Grid.Row="0" Grid.Column="1" Text="Panel ID" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Margin="0,0,0,4"/>
                <TextBlock Grid.Row="0" Grid.Column="2" Text="LOT ID" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Margin="0,0,0,4"/>
                <TextBlock Grid.Row="0" Grid.Column="3" Text="Carrier ID" FontSize="16" FontWeight="Bold" HorizontalAlignment="Left" Margin="0,0,0,4"/>
                
                <TextBox x:Name="TimeTextBox" Grid.Row="1" Grid.Column="0"
                 FontSize="18" Height="38" Padding="10,4" Margin="0,0,18,0"/>
                <TextBox x:Name="PanelIDTextBox" Grid.Row="1" Grid.Column="1"
                 FontSize="18" Height="38" Padding="10,4" Margin="0,0,18,0"/>
                <TextBox x:Name="LotIDTextBox" Grid.Row="1" Grid.Column="2"
                 FontSize="18" Height="38" Padding="10,4" Margin="0,0,18,0"/>
                <TextBox x:Name="CarrierIDTextBox" Grid.Row="1" Grid.Column="3"
                 FontSize="18" Height="38" Padding="10,4" Margin="0,0,18,0"/>

                
                <StackPanel Grid.Row="1" Grid.Column="4" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="批次刪除"
                    FontSize="16" Width="100" Height="36" Margin="0,0,12,0"
                    Command="{Binding DeleteMultipleCommand}"
                    CommandParameter="{Binding SelectedItems, ElementName=ResultsGrid}"
                    Style="{StaticResource MaterialDesignRaisedButton}"
                    IsEnabled="{Binding CanDelete}"/>
                    <Button Content="查詢"
                    FontSize="16" Width="100" Height="36"
                    Click="Search_Click"
                    Style="{StaticResource MaterialDesignRaisedButton}"/>
                </StackPanel>
            </Grid>
        </materialDesign:Card>

        <materialDesign:Card Grid.Row="1"
                             Padding="12"
                             Background="White">
            <DataGrid x:Name="ResultsGrid"
                      AutoGenerateColumns="False"
                      FontSize="18"
                      RowHeight="38"
                      ColumnHeaderHeight="42"
                      ItemsSource="{Binding SearchResults}"
                      CanUserAddRows="False"
                      HeadersVisibility="Column"
                      SelectionMode="Extended"
                      SelectionUnit="FullRow"
                      IsReadOnly="True"
                      AlternatingRowBackground="#EEF3FF"
                      RowBackground="White"
                      GridLinesVisibility="Horizontal"
                      HorizontalGridLinesBrush="#D4DBF5"
                      VerticalGridLinesBrush="#D4DBF5"
                      materialDesign:DataGridAssist.CellPadding="12,6"
                      ScrollViewer.CanContentScroll="True">
                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="FontWeight" Value="Bold"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Time" Binding="{Binding TimeFormatted, Mode=OneWay}" Width="220"/>
                    <DataGridTextColumn Header="PanelID" Binding="{Binding Panel_ID}" Width="*"/>
                    <DataGridTextColumn Header="LOTID" Binding="{Binding LOT_ID}" Width="*"/>
                    <DataGridTextColumn Header="CarrierID" Binding="{Binding Carrier_ID}" Width="*"/>
                    <DataGridTemplateColumn Header="操作" Width="180">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button FontSize="16" Content="刪除"
                                            Command="{Binding DataContext.DeleteCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                            CommandParameter="{Binding}"
                                            Height="34" Width="68" Margin="2,0"
                                            Style="{StaticResource MaterialDesignFlatButton}"
                                            Foreground="#D32F2F"
                                            Padding="6,0"
                                            IsEnabled="{Binding DataContext.CanDelete, RelativeSource={RelativeSource AncestorType=DataGrid}}"/>
                                    <Button FontSize="16" Content="修改"
                                            Command="{Binding DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                            CommandParameter="{Binding}"
                                            Height="34" Width="68" Margin="2,0"
                                            Style="{StaticResource MaterialDesignFlatButton}"
                                            Foreground="Black"
                                            Padding="6,0"
                                            IsEnabled="{Binding DataContext.CanEdit, RelativeSource={RelativeSource AncestorType=DataGrid}}"/>
                                </StackPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </materialDesign:Card>
    </Grid>
</Window>















